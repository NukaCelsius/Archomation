echo Installing the dependencies..
pacman -Syu.
sudo pacman -S --needed base-devel git
echo Cloning the repo...
git clone https://aur.archlinux.org/yay.git
cd yay
echo Building the package...
makepkg -si
echo Done yay should be installed!!
echo Verifying install yay version should appear here:
yay --version

echo Source: https://github.com/Kimplul/hid-tmff2
read -p "IMPORTANT MESSAGE!! If you have not ran the yay script make sure you run it before running this script if you have not installed yay press control-c and run the install-yay script first if you have installed yay press the [Enter] key to continue...
read -p "Plug the wheel into the computer and press [Enter] key to continue."
echo Installing linux-headers, git and make.
pacman -Syu
sudo pacman -S linux-headers
sudo pacman -S git
sudo pacman -S make
read -p "Unplug the wheel from the computer and press [Enter] key to continue."
cd -
git clone --recurse-submodules https://github.com/Kimplul/hid-tmff2.git
cd hid-tmff2
make
sudo make install
sudo ./dkms-install.sh
echo Installing oversteer...
yay -S oversteer
read -p "Plug wheel back in and press [Enter] key to continue."
echo Done! reboot not strictly necessary, but definitely recommended.

echo updating system and installing minimal plasma...
sudo pacman -Syuu
sudo pacman -S plasma-desktop
sudo pacman -S sddm 
sudo pacman -S firefox plasma-nm plasma-pa dolphin konsole kdeplasma-addons kde-gtk-config
echo installing extras...
yay -S spotify
sudo pacman -S chromium
sudo pacman -S steam 
sudo pacman -S discord
sudo pacman -S xorg-xkill
yay -S obs-studio
yay -S v4l2loopback-dkms
yay -S protonup-qt
echo Enabling NetworkManger and Sddm...
sudo systemctl enable NetworkManager
sudo systemctl start NetworkManager
sudo systemctl enable sddm
echo Done! Reboot your system to start into the login manager...

echo upgrading system...
pacman -Syu
sudo pacman nvidia nvidia-settings nvidia-libgl lib32-nvidia-libgl
echo done! reboot your system.


